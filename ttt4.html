<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tic Tac Toe</title>
    <style type="text/css">
        #board {
            width:400px;
        }

        .square {
            width: 100px;
            height: 100px;
            margin: 5px;
            border: 2px solid blue;
            background-color: #aadeff;
            display: inline-block;
            vertical-align: top;
            font-size: 24px;
            text-align: center;
            box-sizing: border-box;
            line-height: 100px;
            border-radius: 5px;    
        }
        
        .square:hover {
            background-color: rgb(55, 113, 239);
        }

        .turn {
            border: 1px solid navy;
            font-size: 16px;
            font-weight: bold;
            color: navy;
            margin: 5px 5px;
            padding: 5px 5px;
            width: 278px;
            text-align: center;
        }

        .result {
            border: 1px solid rgb(222, 16, 140);
            font-size: 16px;
            font-weight: bold;
            color: rgb(222, 16, 140);
            margin: 5px 5px;
            padding: 5px 5px;
            width: 278px;
            text-align: center;
        }

    </style>

</head>
<body>
    
    <h1>TIC TAC TOE</h1>
    <div class="turn"></div>
    <div id="board" class="board"></div>
    <script>
        // Variables to track whose turn it is and the current symbol (X or O)
        let currentPlayer;
        const symbols = ['X', 'O'];
        let boardLocked = false;
    
        // Function to randomly choose the starting player
        function chooseStartingPlayer() {
            currentPlayer = symbols[Math.floor(Math.random() * symbols.length)];
            document.querySelector('.turn').innerText = "It's " + currentPlayer + "'s turn.";
        }
    
        // Function to toggle between X and O for the next turn
        function togglePlayer() {
            currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
            document.querySelector('.turn').innerText = "It's " + currentPlayer + "'s turn.";
        }
    
        // Function to handle square click events
        function handleSquareClick(squareId) {
            const square = document.getElementById(squareId);
            // Check if the square is empty and the board is not locked before placing the symbol
            if (!square.innerText && !boardLocked) {
                square.innerText = currentPlayer;
                // Toggle to the next player after placing the symbol
                togglePlayer();
            }
        }
    
        // Construct the board with squares using a loop
        const NUM_SQUARES = 9;
        const board = document.getElementById('board');
        for (let i = 0; i < NUM_SQUARES; i++) {
            const id = "sq" + i;
            const square = document.createElement('div');
            square.classList.add('square');
            square.setAttribute('id', id);
            board.appendChild(square);
            // Add click event listener to handle square clicks
            square.addEventListener('click', function() {
                handleSquareClick(id);
            });
        }
    
        // Initialize the turn display and choose the starting player
        chooseStartingPlayer();
    </script>
</body>
</html>
